# Cuba Clasificados Bot

Telegram Mini App ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –¥–æ—Å–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –¥–ª—è –ö—É–±—ã (–ê—Ä–µ–Ω–¥–∞ + –õ–∏—á–Ω—ã–µ –≤–µ—â–∏ + –£—Å–ª—É–≥–∏)

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∏ –ø–æ–∏—Å–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –≤–Ω—É—Ç—Ä–∏ Telegram. –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–Ω—É—Ç—Ä–∏ Telegram, –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥ –º–µ–¥–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: Node.js + Express + PostgreSQL
- **Frontend**: React + Vite + Telegram Web App SDK
- **Bot**: node-telegram-bot-api

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π backend –∏ frontend
npm run install-all
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL:

```bash
createdb cuba_clasificados
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±–Ω–æ–≤–∏—Ç–µ `.env` —Ñ–∞–π–ª.

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env.example` –∫–∞–∫ —à–∞–±–ª–æ–Ω):

```env
TELEGRAM_BOT_TOKEN=8418701976:AAHReaTPs92VXuc8pofZSKo_Q_K-4GDCQhY
DB_HOST=localhost
DB_PORT=5432
DB_NAME=cuba_clasificados
DB_USER=postgres
DB_PASSWORD=postgres
PORT=3000
NODE_ENV=development
FRONTEND_URL=http://localhost:5173
UPLOAD_DIR=./uploads
WEB_APP_URL=https://your-domain.com
```

### 4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞.

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
psql -U postgres -d cuba_clasificados -f server/database/schema.sql
```

### 5. –ó–∞–ø—É—Å–∫

#### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# Terminal 1: Backend
npm run dev

# Terminal 2: Frontend
cd frontend
npm run dev

# Terminal 3: Telegram Bot (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
node bot/index.js
```

#### Production

```bash
# –°–±–æ—Ä–∫–∞ frontend
npm run build

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
npm start
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ `.env`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Web App —á–µ—Ä–µ–∑ BotFather:
   ```
   /newapp
   –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
   –ù–∞–∑–≤–∞–Ω–∏–µ: Cuba Clasificados
   –û–ø–∏—Å–∞–Ω–∏–µ: –î–æ—Å–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –¥–ª—è –ö—É–±—ã
   –§–æ—Ç–æ: (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   Web App URL: https://your-domain.com
   ```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
CubaClasificadosBot/
‚îú‚îÄ‚îÄ server/              # Backend
‚îÇ   ‚îú‚îÄ‚îÄ database/        # –°—Ö–µ–º–∞ –ë–î –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ middleware/      # Middleware (auth)
‚îÇ   ‚îú‚îÄ‚îÄ routes/          # API routes
‚îÇ   ‚îî‚îÄ‚îÄ index.js         # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ bot/                 # Telegram Bot
‚îÇ   ‚îî‚îÄ‚îÄ index.js         # –õ–æ–≥–∏–∫–∞ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ frontend/            # Frontend (React)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/  # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.jsx      # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.jsx     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ uploads/             # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ package.json         # Backend –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## API Endpoints

### –û–±—ä—è–≤–ª–µ–Ω–∏—è

- `GET /api/listings` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- `GET /api/listings/:id` - –ü–æ–ª—É—á–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ ID
- `POST /api/listings` - –°–æ–∑–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
- `PATCH /api/listings/:id/status` - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- `POST /api/listings/:id/promote` - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ

### –ì–æ—Ä–æ–¥–∞

- `GET /api/cities` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ –∏ —Ä–∞–π–æ–Ω–æ–≤

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏

- üè† **–ê—Ä–µ–Ω–¥–∞** - –ö–æ–º–Ω–∞—Ç—ã, –∫–≤–∞—Ä—Ç–∏—Ä—ã, –¥–æ–º–∞ (NEIGHBORHOOD/CITY)
- üëï **–õ–∏—á–Ω—ã–µ –≤–µ—â–∏** - –û–¥–µ–∂–¥–∞, —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞, –º–µ–±–µ–ª—å (COUNTRY/CITY/NEIGHBORHOOD)
- üõ† **–£—Å–ª—É–≥–∏** - –†–µ–º–æ–Ω—Ç, —É–±–æ—Ä–∫–∞, –ø–µ—Ä–µ–≤–æ–∑–∫–∏ (CITY/NEIGHBORHOOD)

### –£—Ä–æ–≤–Ω–∏ –æ—Ö–≤–∞—Ç–∞

- üìç **NEIGHBORHOOD** - –†–∞–π–æ–Ω
- üèô **CITY** - –ì–æ—Ä–æ–¥
- üá®üá∫ **COUNTRY** - –í—Å—è –ö—É–±–∞

### –§–∏–ª—å—Ç—Ä—ã

- –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É
- –§–∏–ª—å—Ç—Ä –ø–æ —Ü–µ–Ω–µ (–æ—Ç/–¥–æ)
- –§–∏–ª—å—Ç—Ä –ø–æ —Ä–∞–π–æ–Ω—É
- –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

## –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è (MVP)

- –ü–æ–¥–Ω—è—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
- –ó–∞–∫—Ä–µ–ø –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏/—Ä–∞–π–æ–Ω–µ
- VIP-–æ–±—ä—è–≤–ª–µ–Ω–∏–µ

–í MVP —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É.

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

- **Backend**: Railway, Render, Heroku
- **Database**: Supabase, Railway PostgreSQL, Neon
- **Frontend**: Vercel, Netlify
- **Storage**: Cloudinary, AWS S3 (–¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)

### –ü—Ä–∏–º–µ—Ä —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ Railway

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –î–æ–±–∞–≤—å—Ç–µ PostgreSQL addon
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ build command: `npm install && npm run build`
5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ start command: `npm start`

## –õ–∏—Ü–µ–Ω–∑–∏—è

ISC




